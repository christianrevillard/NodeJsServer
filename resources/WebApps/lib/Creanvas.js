var f=f||{};f.a=f.a||{};window.CreJs=f;f.Creanvas=f.a;(function(){var c=f.u=f.u||{};c.v=function(e,d,b){var a=this;this.C=e;this.D=d;this.$=b||0;this.hb=function(b,l,c,d){b.lineWidth=5;b.strokeStyle=d;b.beginPath();b.moveTo(l,c);b.lineTo(l+100*a.C,c+100*a.D);b.stroke();b.lineWidth=1;b.strokeStyle="#000"};this.Ja=function(b){return{Q:c.xa(a,b.Q),w:c.xa(a,b.w),Pa:c.xa(a,b.Pa)}}};Object.defineProperty(c.v.prototype,"x",{get:function(){return this.C},set:function(c){this.C=c}});Object.defineProperty(c.v.prototype,"y",{get:function(){return this.D},set:function(c){this.D=
c}});Object.defineProperty(c.v.prototype,"z",{get:function(){return this.$},set:function(c){this.$=c}});c.Xa=function(e,d,b,a){e=b-e;d=a-d;a=Math.sqrt(e*e+d*d);return{Q:new c.v(e/a,d/a,0),w:new c.v(-d/a,e/a,0),Pa:new c.v(0,0,0)}};c.jb=function(c,d,b,a,n){c.lineWidth=5;c.strokeStyle=n;c.beginPath();c.moveTo(d,b);c.lineTo(d+100*a.Q.C,b+100*a.Q.D);c.moveTo(d,b);c.lineTo(d+50*a.w.C,b+50*a.w.D);c.stroke();c.lineWidth=1;c.strokeStyle="#000"};c.ib=function(c,d,b,a,n,l,m){c.lineWidth=5;c.strokeStyle=m;c.beginPath();
c.moveTo(d,b);c.lineTo(d+100*n*a.Q.C,b+100*n*a.Q.D);c.lineTo(d+100*n*a.Q.C+100*l*a.w.C,b+100*n*a.Q.D+100*l*a.w.D);c.stroke();c.lineWidth=1;c.strokeStyle="#000"};c.xa=function(c,d){return c.C*d.C+c.D*d.D};c.na=function(e,d){return new c.v(e.D*d.$-e.$*d.D,e.$*d.C-e.C*d.$,e.C*d.D-e.D*d.C)};f.Core=f.u;f.u.Vector=f.u.v})();f.a.Qa=function(c){function e(){return c.elements.filter(function(a){return a.bb})}function d(a,b,c){var d,k,e,g,q,h;d=c.gb;g=new f.u.v(c.x-a.j,c.y-a.k);q=f.u.na(g,d.w).z;h=new f.u.v(c.x-b.j,c.y-b.k);c=f.u.na(h,d.w).z;var p=f.u.na(g,d.w),r=f.u.na(h,d.w);k=new f.u.v(a.g.x,a.g.y);e=new f.u.v(b.g.x,b.g.y);a.A&&(k.x+=g.x*a.A.x,k.y+=g.y*a.A.y);b.A&&(e.x+=h.x*b.A.x,e.y+=h.y*b.A.y);g=a.Ga?Infinity:a.ca;h=b.Ga?Infinity:b.ca;var s=a.fixed?Infinity:a.Ka(),t=b.fixed?Infinity:b.Ka();k=a.Ca*b.Ca*2*(e.Ja(d).w-
k.Ja(d).w+b.B*r.z-a.B*p.z)/(1/h+1/g+r.z*r.z/t+p.z*p.z/s);a.g.x+=k/g*d.w.x;a.g.y+=k/g*d.w.y;b.g.x-=k/h*d.w.x;b.g.y-=k/h*d.w.y;a.B+=k*q/s;b.B-=k*c/t}function b(a,b){var c,d,k,e,g,q,h;e=a.Ia();g=b.Ia();c=Math.max(e.I,g.I)-1;d=Math.min(e.ma,g.ma)+1;k=Math.max(e.F,g.F)-1;e=Math.min(e.ha,g.ha)+1;if(!(0>=d-c||0>=e-k)){c=a.n.getImageData(0,0,a.h,a.s);a.n.scale(1/(a.i||1),1/(a.p||1));a.n.rotate(-(a.m||0));a.n.translate(b.j*a.d.b-a.j*a.d.b,b.k*a.d.b-a.k*a.d.b);a.n.rotate(b.m||0);a.n.scale(b.i||1,b.p||1);a.n.globalCompositeOperation=
"destination-out";a.n.drawImage(b.V.canvas,0,0,b.h,b.s,b.I,b.F,b.h,b.s);a.n.scale(1/(b.i||1),1/(b.p||1));a.n.rotate(-b.m||0);a.n.translate(-b.j*a.d.b+a.j*a.d.b,-b.k*a.d.b+a.k*a.d.b);a.n.rotate(a.m||0);a.n.scale(a.i||1,a.p||1);q=a.n.getImageData(0,0,a.h,a.s);a.n.globalCompositeOperation="source-over";a.n.putImageData(c,0,0);h=[];a.Ea.forEach(function(b){90>q.data[b.y*a.h*4+4*b.x+3]&&h.push(b)});if(2>h.length)return null;var p;k=d=0;c=h.length-1;for(e=1;e<h.length;e++)for(g=e+1;g<h.length;g++){p=h[e].x-
h[g].x;var r=h[e].y-h[g].y;p=Math.sqrt(p*p+r*r);p>d&&(d=p,k=e,c=g)}d=a.ka(h[k].x+a.left,h[k].y+a.F);c=a.ka(h[c].x+a.left,h[c].y+a.F);return d.x==c.x&&d.y==c.y?null:{x:(d.x+c.x)/2,y:(d.y+c.y)/2,gb:f.u.Xa(d.x,d.y,c.x,c.y)}}}this.fb=function(a){var c=e(),l,m,k=null;l=a.Ha();c=c.filter(function(b){var c;if(b.X===a.X||!(b.g.x||b.g.y||a.g.x||a.g.y||b.A||a.A||a.B||b.B))return!1;c=b.Ha();return Math.sqrt((l.x-c.x)*(l.x-c.x)+(l.y-c.y)*(l.y-c.y))>a.La()+b.La()?!1:!0});if(0==c.length)return!0;m=null;c.forEach(function(c){m||
(m=b(a,c))&&(k=c)});if(!m)return!0;d(a,k,m);a.l.r("collision").H({element:k,Sa:m});k.l.r("collision").H({element:a,Sa:m});return!1}};(function(){function c(a){this.c.translate(a.j*this.b,a.k*this.b);this.c.rotate(a.m||0);this.c.scale(a.i||1,a.p||1);this.c.drawImage(a.M.canvas,0,0,a.h,a.s,a.I,a.F,a.h,a.s);this.c.scale(1/(a.i||1),1/a.p||1);this.c.rotate(-(a.m||0));this.c.translate(-a.j*this.b,-a.k*this.b)}function e(){var a=this;setInterval(function(){a.ea&&!a.R&&(a.R=!0,a.elements.sort(function(a,b){return(a.J||0)-(b.J||0)}).forEach(function(b){c.call(a,b)}),a.R=!1)},a.wa)}function d(a,c){var d=this;d.add(["name","background"],
["image",{left:0,top:0,width:d.c.canvas.width/d.b,height:d.c.canvas.height/d.b,draw:a||function(a){a.fillStyle=c||b.o.oa;a.fillRect(0,0,d.c.canvas.width/d.b,d.c.canvas.height/d.b)}}],["position",{z:-Infinity}])}var b=f.a;b.o=function(a){var c=a.canvas;this.da=a.log;this.b=a.lengthScale||c.height/a.realHeight||c.width/a.realWidth||1;timeScale=a.timeScale||1;var l=0;setInterval(function(){l+=10*timeScale/1E3},10);this.getTime=function(){return l};this.ea=!0;this.R=!1;this.wa=a["controller.refreshTime"]||
b.o.pa;this.elements=[];this.l=new f.T.ga;this.c=c.getContext("2d");this.c.setTransform(1,0,0,1,0,0);this.S("click","click");this.S("mousedown","pointerDown");this.S("touchstart","pointerDown");this.L("mousemove","pointerMove");this.L("touchmove","pointerMove");this.L("mouseup","pointerUp");this.L("touchend","pointerUp");d.call(this,a.drawBackground,a.backgroundStyle);e.call(this)};b.o.prototype.va=function(a){this.da&&this.da(a)};b.o.prototype.Z=function(a,b){var c=!1;this.elements.filter(function(b){return b.Aa(a)}).sort(function(a,
b){return b.J||0-a.J||0}).forEach(function(d){!c&&d.Ma(b.x,b.y)&&(d.l.r(a).H(b),c=!0)})};b.o.prototype.fa=function(a,b){this.elements.forEach(function(c){c.q==b.q&&c.l.r(a).H(b)})};b.o.prototype.S=function(a,b){var c=this;c.c.canvas.addEventListener(a,function(a){setTimeout(function(){if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++){var e=a.changedTouches[d].identifier,g=c.K(a.changedTouches[d]);g.q=e;c.Z(b,g)}else d=c.K(a),d.q=-1,c.Z(b,d)})})};b.o.prototype.L=function(a,b){var c=this;
this.c.canvas.addEventListener(a,function(a){setTimeout(function(){if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++){var e=a.changedTouches[d].identifier,g=c.K(a.changedTouches[d]);g.q=e;c.fa(b,g)}else d=c.K(a),d.q=-1,c.fa(b,d)})})};b.o.prototype.ya=function(){this.l.r("deactivate").H();this.elements=[]};b.o.prototype.G=function(){this.ea=!0};b.o.prototype.K=function(a){var b=this.c.canvas.getBoundingClientRect();return{x:(a.clientX-b.left)*this.c.canvas.width/b.width/this.b,y:(a.clientY-
b.top)*this.c.canvas.height/b.height/this.b}};b.o.prototype.add=function(){var a=[].slice.call(arguments),b=a.filter(function(a){return a&&"name"==a[0]})[0]||["name","Unknown"],c=a.filter(function(a){return a&&"image"==a[0]})[0],d=a.filter(function(a){return a&&"position"==a[0]})[0],b=new f.a.e(this,b,c,d);b.X=0==this.elements.length?0:this.elements[this.elements.length-1].X+1;a=a.filter(function(a){return a&&"name"!=a[0]&&"position"!=a[0]&&"image"!=a[0]});0<a.length&&f.a.f&&b.sa.apply(b,a);this.elements.push(b);
return b};b.o.pa=50;b.o.oa="#FFF";b.Controller=b.o;b.o.prototype.addElement=b.o.prototype.add;b.o.prototype.redraw=b.o.prototype.G;b.o.prototype.stop=b.o.prototype.ya})();(function(){function c(b,a){b.j=a.x||0;b.k=a.y||0;b.J=a.z||0;b.m=a.angle||0}function e(b,a){var c=a.width,d=a.height;b.top=0==a.top?0:a.top||-d/2;b.left=0==a.left?0:a.left||-c/2;b.bottom=0==a.bottom?0:a.bottom||b.top+d;b.right=0==a.right?0:a.right||b.left+c;b.P=c||b.right-b.left;b.W=d||b.bottom-b.top;b.F=Math.round(b.top*b.d.b);b.I=Math.round(b.left*b.d.b);b.ha=Math.round(b.bottom*b.d.b);b.ma=Math.round(b.right*b.d.b);b.h=Math.round(b.P*b.d.b);b.s=Math.round(b.W*b.d.b);c=b.d.c.canvas.ownerDocument.createElement("canvas");
b.M=c.getContext("2d");b.i=a.scaleX||1;b.p=a.scaleY||1;a.rawImage?(b.ba=a.rawImage,b.M.putImageData(b.ba,0,0)):(d=a.draw,c.width=b.h,c.height=b.s,b.M.beginPath(),b.M.translate(-b.I,-b.F),b.M.scale(b.d.b,b.d.b),d.call(b,b.M),b.ba=b.M.getImageData(0,0,b.h,b.s))}var d=f.a;d.e=function(b,a,d,l){var m=this;this.d=b;this.ia=[];this.U=[];this.l=this.l||new f.T.ga;m.ta=a[1];e(m,d[1]);c(m,l[1]);this.U.push(a);this.U.push(d);this.U.push(l);m.d.l.r("deactivate").addListener(function(){m.Ta()})};d.e.prototype.Ma=
function(b,a){var c=this.Wa(b,a),d=c.x-this.I,c=c.y-this.F;return 0<=d&&d<=this.h&&0<=c&&c<=this.s&&0<this.ba.data[4*c*this.h+4*d+3]};d.e.prototype.ra=function(b,a){var c=f.a.f[b];c&&(this.U.push([b,a]),c.N(this,a))};d.e.prototype.ua=function(b,a,c){if(this.ia[b]&&this.ia[b].key==a)return this.ia[b].value;c=c.call(this);this.ia[b]={key:a,value:c};return c};d.e.prototype.Ba=function(b){var a=b?this.U.filter(function(a){return b.every(function(b){return b!=a[0]})}):this.U;return this.d.add.apply(this.d,
a)};d.e.prototype.Aa=function(b){return"click"==b||"pointerDown"==b||this.l.Za(b)};d.e.prototype.Ta=function(){this.M=null};d.e.prototype.G=function(){this.d.G()};d.e.prototype.ka=function(b,a){return{x:this.j+(b*this.i*Math.cos(this.m)-a*this.p*Math.sin(this.m))/this.d.b,y:this.k+(b*this.i*Math.sin(this.m)+a*this.p*Math.cos(this.m))/this.d.b}};d.e.prototype.Wa=function(b,a){return{x:Math.round(((b-this.j)*this.d.b*Math.cos(this.m)+(a-this.k)*this.d.b*Math.sin(this.m))/this.i),y:Math.round(((a-this.k)*
this.d.b*Math.cos(this.m)-(b-this.j)*this.d.b*Math.sin(this.m))/this.p)}};d.e.prototype.Ha=function(){return this.ka(this.I+this.h/2,this.F+this.s/2)};d.e.prototype.Va=function(){var b=this;return this.ua("getClientCorners",b.j+""+b.k+""+b.m+""+b.i+""+b.i,function(){var a=[];a.push({x:b.I,y:b.F});a.push({x:b.ma,y:b.F});a.push({x:b.ma,y:b.ha});a.push({x:b.I,y:b.ha});return a.map(function(a){return b.ka(a.x,a.y)})})};d.e.prototype.Ia=function(){var b=this;return this.ua("getClientRect",b.j+""+b.k+""+
b.m+""+b.i+""+b.i,function(){var a=b.Va();return{top:a.reduce(function(a,b){return Math.min(a,b.y)},Infinity),bottom:a.reduce(function(a,b){return Math.max(a,b.y)},-Infinity),left:a.reduce(function(a,b){return Math.min(a,b.x)},Infinity),right:a.reduce(function(a,b){return Math.max(a,b.x)},-Infinity)}})};d.e.prototype.sa=function(){var b=this;[].slice.apply(arguments).forEach(function(a){b.ra(a[0],a[1])})};d.e.prototype.clone=d.e.prototype.Ba;d.e.prototype.applyDecorator=d.e.prototype.ra;d.e.prototype.applyDecorators=
d.e.prototype.sa;Object.defineProperty(d.e.prototype,"width",{get:function(){return this.P},set:function(b){this.P=b}});Object.defineProperty(d.e.prototype,"height",{get:function(){return this.W},set:function(b){this.W=b}});Object.defineProperty(d.e.prototype,"scaleX",{get:function(){return this.i},set:function(b){this.i=b}});Object.defineProperty(d.e.prototype,"scaleY",{get:function(){return this.p},set:function(b){this.p=b}});Object.defineProperty(d.e.prototype,"x",{get:function(){return this.j},
set:function(b){this.j=b}});Object.defineProperty(d.e.prototype,"y",{get:function(){return this.k},set:function(b){this.k=b}});Object.defineProperty(d.e.prototype,"z",{get:function(){return this.J},set:function(b){this.J=b}});Object.defineProperty(d.e.prototype,"angle",{get:function(){return this.m},set:function(b){this.m=b}});Object.defineProperty(d.e.prototype,"name",{get:function(){return this.ta}});Object.defineProperty(d.e.prototype,"id",{get:function(){return this.X}});Object.defineProperty(d.e.prototype,
"image",{get:function(){return this.ba}});Object.defineProperty(d.e.prototype,"events",{get:function(){return this.l}})})();(function(){function c(){var a=this;setInterval(function(){a.ea&&!a.R&&(a.R=!0,a.elements.sort(function(a,b){return(a.J||0)-(b.J||0)}).forEach(function(b){e.call(a,b)}),a.R=!1)},a.wa)}function e(a){this.c.translate(a.j*this.b,a.k*this.b);this.c.rotate(a.m||0);this.c.scale(a.i||1,a.p||1);this.c.drawImage(a.M.canvas,0,0,a.h,a.s,a.I,a.F,a.h,a.s);this.c.scale(1/(a.i||1),1/a.p||1);this.c.rotate(-(a.m||0));this.c.translate(-a.j*this.b,-a.k*this.b)}function d(a,c){var d=this;d.add(["name","background"],
["image",{left:0,top:0,width:d.c.canvas.width/d.b,height:d.c.canvas.height/d.b,draw:a||function(a){a.fillStyle=c||b.o.oa;a.fillRect(0,0,d.c.canvas.width/d.b,d.c.canvas.height/d.b)}}],["position",{z:-Infinity}])}var b=f.a;b.t=function(a){var e=a.canvas;this.da=a.log;this.b=a.lengthScale||e.height/a.realHeight||e.width/a.realWidth||1;timeScale=a.timeScale||1;this.eb=a.nodeSocket;this.ea=!0;this.R=!1;this.wa=a["controller.refreshTime"]||b.o.pa;this.elements=[];this.l=new f.T.ga;this.c=e.getContext("2d");
this.c.setTransform(1,0,0,1,0,0);this.S("click","click");this.S("mousedown","pointerDown");this.S("touchstart","pointerDown");this.L("mousemove","pointerMove");this.L("touchmove","pointerMove");this.L("mouseup","pointerUp");this.L("touchend","pointerUp");d.call(this,a.drawBackground,a.backgroundStyle);c.call(this)};b.t.prototype.va=function(a){this.da&&this.da(a)};b.t.prototype.Z=function(a,b){var c=this,d=!1;this.elements.filter(function(b){return b.Aa(a)}).sort(function(a,b){return b.J||0-a.J||
0}).forEach(function(e){!d&&e.Ma(b.x,b.y)&&(e.l.r(a).H(b),c.eb.emit("dispatchEvent",JSON.stringify({element:e.id,event:a})),d=!0)})};b.t.prototype.fa=function(a,b){this.elements.forEach(function(c){c.q==b.q&&c.l.r(a).H(b)})};b.t.prototype.S=function(a,b){var c=this;c.c.canvas.addEventListener(a,function(a){setTimeout(function(){if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++){var e=a.changedTouches[d].identifier,g=c.K(a.changedTouches[d]);g.q=e;c.Z(b,g)}else d=c.K(a),d.q=-1,c.Z(b,d)})})};
b.t.prototype.L=function(a,b){var c=this;this.c.canvas.addEventListener(a,function(a){setTimeout(function(){if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++){var e=a.changedTouches[d].identifier,g=c.K(a.changedTouches[d]);g.q=e;c.fa(b,g)}else d=c.K(a),d.q=-1,c.fa(b,d)})})};b.t.prototype.ya=function(){this.l.r("deactivate").H();this.elements=[]};b.t.prototype.G=function(){this.ea=!0};b.t.prototype.K=function(a){var b=this.c.canvas.getBoundingClientRect();return{x:(a.clientX-b.left)*this.c.canvas.width/
b.width/this.b,y:(a.clientY-b.top)*this.c.canvas.height/b.height/this.b}};b.t.prototype.add=function(){var a=[].slice.call(arguments),b=a.filter(function(a){return a&&"name"==a[0]})[0]||["name","Unknown"],c=a.filter(function(a){return a&&"image"==a[0]})[0],d=a.filter(function(a){return a&&"position"==a[0]})[0],b=new f.a.e(this,b,c,d);b.X=0==this.elements.length?0:this.elements[this.elements.length-1].X+1;a=a.filter(function(a){return a&&"name"!=a[0]&&"position"!=a[0]&&"image"!=a[0]});0<a.length&&
f.a.f&&b.sa.apply(b,a);this.elements.push(b);return b};b.t.pa=50;b.t.oa="#FFF";b.NodeJsController=b.t;b.t.prototype.addElement=b.t.prototype.add;b.t.prototype.redraw=b.t.prototype.G;b.t.prototype.stop=b.t.prototype.ya})();f=f||{};f.a=f.a||{};f.a.f=f.a.f||[];f.a.f.clickable={N:function(c,e){var d=!1,b=e.ondown,a=e.onup,n=e.onclick;this.q=null;n&&c.l.r("click").addListener(function(a){n.call(c,a);c.G()});b&&c.l.r("pointerDown").addListener(function(a){c.q=a.q;d=!0;b.call(c,event);c.G()});a&&c.l.r("pointerUp").addListener(function(b){d&&c.q==b.q&&(d=!1,a.call(c,event),c.G())})}};f=f||{};f.a=f.a||{};f.a.f=f.a.f||[];f.a.f.customTimer={N:function(c,e){setInterval(function(){e.action.call(c)},e.time)}};f=f||{};f.a=f.a||{};f.a.f=f.a.f||[];f.a.f.droppable={N:function(c,e){c.ab=!0;c.Fa=e.dropZone;Object.defineProperty(c,"dropZone",{get:function(){return this.Fa},set:function(c){this.Fa=c}})}};f=f||{};f.a=f.a||{};f.a.f=f.a.f||[];f.a.f.dropzone={N:function(c,e){var d=e.availableSpots,b=e.dropX,a=e.dropY;c.ja=[];c.l.r("drop").addListener(function(e){0>=d||(d--,e.O.x=b||c.j,e.O.y=a||c.k,e.O.aa=c,c.ja.push(e.O),e.O.l.r("dropped").H({aa:c,O:e.O}),c.l.r("droppedIn").H({dropZone:c,droppedElement:e.O}),c.G())});c.Ua=function(a){a.aa=null;d++;c.ja.splice(c.ja.indexOf(a),1);c.G()};Object.defineProperty(c,"droppedElements",{get:function(){return c.ja}})}};f=f||{};f.a=f.a||{};f.a.f=f.a.f||[];f.a.f.duplicable={N:function(c,e){var d=e.isBlocked,b=e.generatorCount||Infinity,a=!1;c.l.r("pointerDown").addListener(function(e){0<=e.q&&(a=!0);if(!(a&&0>e.q||d&&d()||0>=b)){b--;var l=c.Ba(["duplicable"]);l.ta+=" (duplicate)";l.ra("movable",{$a:d});l.Oa(e);c.G()}})}};f.a.f=f.a.f||[];f.a.elementDecorators=f.a.f;f=f||{};f.a=f.a||{};f.a.f=f.a.f||[];
f.a.f.movable={N:function(c,e){var d=!1,b=this.q=null,a=e.$a;c.Oa=function(a){d=!0;c.q=a.q;b={x:a.x,y:a.y};c.aa&&(c.aa.Ua(c),c.aa=null)};c.cb=function(a){d=!1;b=null;c.ab&&c.d.Z("drop",{x:a.x,y:a.y,O:c})};c.l.r("pointerDown").addListener(function(b){a&&a()||c.Oa(b)});var n=!1;c.l.r("pointerMove").addListener(function(e){!d||a&&a()||(n||(n=!0),c.j+=e.x-b.x,c.k+=e.y-b.y,b={x:e.x,y:e.y},c.G())});c.l.r("pointerUp").addListener(function(e){!d||a&&a()||(c.j+=e.x-b.x,c.k+=e.y-b.y,c.cb(e),c.q=null,n=!1,c.G())})}};f=f||{};f.a=f.a||{};f.a.f=f.a.f||[];
f.a.f.moving={type:"moving",N:function(c,e){var d,b,a,n,l,m=e.ax,k=e.ay,u=e.rotationSpeed,g,q,h;c.g=new f.u.v(e.vx||0,e.vy||0);c.Y=new f.u.v(m||0,k||0);c.B=u||0;g=c.d.getTime();setInterval(function(){q=c.d.getTime();h=q-g;if(!(.001>h)&&(g=q,c.g.x+=c.Y.x*h,c.g.y+=c.Y.y*h,0!=c.g.x||0!=c.g.y||0!=c.B||c.A&&(0!=c.A.x||0!=c.A.y))){d=c.j;b=c.k;a=c.m;n=c.i;l=c.p;c.j+=c.g.x*h;c.k+=c.g.y*h;c.m+=c.B*h;c.A&&(c.i+=c.A.x*h,c.p+=c.A.y*h);var e=!0;c.la&&c.la.forEach(function(a){e&&(a.call(c)||(e=!1))});e||(c.j=d,
c.k=b,c.m=a,c.i=n,c.p=l)}},20);Object.defineProperty(c,"speed",{get:function(){return this.g},set:function(a){this.g=a}});Object.defineProperty(c,"acceleration",{get:function(){return this.Y},set:function(a){this.Y=a}});Object.defineProperty(c,"rotationSpeed",{get:function(){return this.B},set:function(a){this.B=a}});Object.defineProperty(c,"scaleSpeed",{get:function(){return this.A},set:function(a){this.A=a}})}};f=f||{};
(function(){function c(){var c=this.d.c.canvas.ownerDocument.createElement("canvas");c.width=this.h;c.height=this.s;this.n=c.getContext("2d");this.n.globalCompositeOperation="source-over";this.n.drawImage(this.V.canvas,0,0);var c=this.n.getImageData(0,0,this.h,this.s),b=this.n.createImageData(this.h,this.s);this.Ea=[];for(var a=0;a<this.h;a++)for(var e=0;e<this.s;e++)if(!(200>c.data[e*this.h*4+4*a+3])){for(var l=!1,m=-1;2>m;m++)for(var k=-1;2>k;k++)if(0>e+m||0>a+k||e+m>this.s-1||a+m>this.P-1||100>
c.data[(e+m)*this.P*4+4*(a+k)+3])l=!0,k=m=2;this.n.putImageData(b,0,0);l&&(this.Ea.push({x:a,y:e}),b.data[e*this.h*4+4*a]=0,b.data[e*this.h*4+4*a+1]=0,b.data[e*this.h*4+4*a+2]=0,b.data[e*this.h*4+4*a+3]=255)}this.n.putImageData(b,0,0);this.n.translate(-this.I,-this.F)}function e(){var c=this.d.c.canvas.ownerDocument.createElement("canvas");c.width=this.h;c.height=this.s;this.V=c.getContext("2d");this.V.putImageData(this.ba,0,0);this.V.globalCompositeOperation="source-atop";this.V.fillStyle="#000";
this.V.fillRect(0,0,this.h,this.s)}f.a=f.a||{};f.a.f=f.a.f||[];f.a.f.solid={N:function(d,b){d.bb=!0;d.ca=b.mass||1;var a=b.onCollision,n=b.coefficient;d.fixed=b.fixed||!1;d.Ga=d.fixed||b.fixedPoint||!1;d.d.Da=d.d.Da||new f.a.Qa(d.d);d.Ca=n||0===n?n:1;d.g=d.g||new f.u.v(0,0);d.Y=d.Y||new f.u.v(0,0);d.B=d.B||0;d.l.r("collision").addListener(function(b){a&&a.call(d,b)});d.la=this.la||[];d.la.push(function(){return d.d.Da.fb(d)});e.call(d);c.call(d);d.Ka=function(){return d.ca/12*(d.h*d.i*d.h*d.i+d.s*
d.p*d.s*d.p)};d.La=function(){return this.ua("getRadius",d.P+""+d.W+""+d.i+""+d.p,function(){return Math.sqrt(this.P*this.P*this.i*this.i+this.W*this.W*this.p*this.p)/2})};Object.defineProperty(d,"mass",{get:function(){return this.ca},set:function(a){this.ca=a}})}}})();(function(){var c=f.T=f.T||{};c.za=function(){var c=0,d=[];this.H=function(b,a){var c=d.length;d.forEach(function(d){setTimeout(function(){d.handleEvent(b);c--;0==c&&a&&a()})})};this.addListener=function(b,a){var n=c++;d.push({Ya:n,handleEvent:b,Na:a});d=d.sort(function(a,b){return(a.Na||Infinity)-(b.Na||Infinity)});return n};this.removeListener=function(b){d=d.filter(function(a){return a.Ya!=b})};this.addEventListener=this.addListener;this.removeEventListener=this.removeListener;this.dispatch=this.H};
f.Creevents=c;c.Event=c.za})();(function(){var c=f.T=f.T||{};c.ga=function(){var e={};this.Za=function(c){return void 0!=e[c]};this.getEvent=this.r=function(d){e[d]||(e[d]=new c.za);return e[d]}};c.EventContainer=c.ga})();(function(){var c=f.Ra=f.Ra||{};c.qa=function(){this.va=function(c){console.log(c)}};f.Crelog=c;c.Logger=c.qa;c.qa.log=c.qa.va})();
